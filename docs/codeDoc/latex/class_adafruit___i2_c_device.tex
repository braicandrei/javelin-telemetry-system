\doxysection{Adafruit\+\_\+\+I2\+CDevice Class Reference}
\hypertarget{class_adafruit___i2_c_device}{}\label{class_adafruit___i2_c_device}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}


\texorpdfstring{$<$}{<} The class which defines how we will talk to this device over I2C  




{\ttfamily \#include $<$Adafruit\+\_\+\+I2\+CDevice.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_adafruit___i2_c_device_adf4fc0a450f853213cb1a8c90a7470a3}{Adafruit\+\_\+\+I2\+CDevice}} (uint8\+\_\+t addr, Two\+Wire \texorpdfstring{$\ast$}{*}the\+Wire=\&Wire)
\begin{DoxyCompactList}\small\item\em Create an I2C device at a given address. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_adafruit___i2_c_device_a2994a3ad6bafdae23aa61ee6ea8d303e}{address}} (void)
\begin{DoxyCompactList}\small\item\em Returns the 7-\/bit address of this device. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_af319df9179f087667fb9481339d8fd9a}{begin}} (bool addr\+\_\+detect=true)
\begin{DoxyCompactList}\small\item\em Initializes and does basic address detection. \end{DoxyCompactList}\item 
\Hypertarget{class_adafruit___i2_c_device_a081b5c662ecee58405a543518f699d31}\label{class_adafruit___i2_c_device_a081b5c662ecee58405a543518f699d31} 
void {\bfseries end} (void)
\begin{DoxyCompactList}\small\item\em De-\/initialize device, turn off the Wire interface. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_ad885a1f4885b4e92c0ed16bf3baa61a5}{detected}} (void)
\begin{DoxyCompactList}\small\item\em Scans I2C for the address -\/ note will give a false-\/positive if there\textquotesingle{}s no pullups on I2C. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_ae85ca4244fd36c6861ee30f08fb21f39}{read}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, size\+\_\+t len, bool stop=true)
\begin{DoxyCompactList}\small\item\em Read from I2C into a buffer from the I2C device. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_a0014ca5ee0ac58df57aafe9fa739571a}{write}} (const uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, size\+\_\+t len, bool stop=true, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}prefix\+\_\+buffer=nullptr, size\+\_\+t prefix\+\_\+len=0)
\begin{DoxyCompactList}\small\item\em Write a buffer or two to the I2C device. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_a0d5bd9223ce05f6e090048ace0582cbb}{write\+\_\+then\+\_\+read}} (const uint8\+\_\+t \texorpdfstring{$\ast$}{*}write\+\_\+buffer, size\+\_\+t write\+\_\+len, uint8\+\_\+t \texorpdfstring{$\ast$}{*}read\+\_\+buffer, size\+\_\+t read\+\_\+len, bool stop=false)
\begin{DoxyCompactList}\small\item\em Write some data, then read some data from I2C into another buffer. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. The buffers can point to same/overlapping locations. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_adafruit___i2_c_device_a837afba2e89c0835741f8bad8ce16f52}{set\+Speed}} (uint32\+\_\+t desiredclk)
\begin{DoxyCompactList}\small\item\em Change the I2C clock speed to desired (relies on underlying Wire support! \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size}} ()
\begin{DoxyCompactList}\small\item\em How many bytes we can read in a transaction. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\texorpdfstring{$<$}{<} The class which defines how we will talk to this device over I2C 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_adafruit___i2_c_device_adf4fc0a450f853213cb1a8c90a7470a3}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{Adafruit\_I2CDevice()}{Adafruit\_I2CDevice()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_adf4fc0a450f853213cb1a8c90a7470a3} 
\mbox{\hyperlink{class_adafruit___i2_c_device}{Adafruit\+\_\+\+I2\+CDevice}} (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr}{, }\item[{Two\+Wire \texorpdfstring{$\ast$}{*}}]{the\+Wire}{ = {\ttfamily \&Wire}}\end{DoxyParamCaption})}



Create an I2C device at a given address. 


\begin{DoxyParams}{Parameters}
{\em addr} & The 7-\/bit I2C address for the device \\
\hline
{\em the\+Wire} & The I2C bus to use, defaults to \&Wire \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_adafruit___i2_c_device_a2994a3ad6bafdae23aa61ee6ea8d303e}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!address@{address}}
\index{address@{address}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{address()}{address()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_a2994a3ad6bafdae23aa61ee6ea8d303e} 
uint8\+\_\+t address (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Returns the 7-\/bit address of this device. 

\begin{DoxyReturn}{Returns}
The 7-\/bit address of this device 
\end{DoxyReturn}
\Hypertarget{class_adafruit___i2_c_device_af319df9179f087667fb9481339d8fd9a}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!begin@{begin}}
\index{begin@{begin}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_af319df9179f087667fb9481339d8fd9a} 
bool begin (\begin{DoxyParamCaption}\item[{bool}]{addr\+\_\+detect}{ = {\ttfamily true}}\end{DoxyParamCaption})}



Initializes and does basic address detection. 


\begin{DoxyParams}{Parameters}
{\em addr\+\_\+detect} & Whether we should attempt to detect the I2C address with a scan. 99\% of sensors/devices don\textquotesingle{}t mind, but once in a while they don\textquotesingle{}t respond well to a scan! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if I2C initialized and a device with the addr found 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{class_adafruit___i2_c_device_af319df9179f087667fb9481339d8fd9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{class_adafruit___i2_c_device_af319df9179f087667fb9481339d8fd9a_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_adafruit___i2_c_device_ad885a1f4885b4e92c0ed16bf3baa61a5}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!detected@{detected}}
\index{detected@{detected}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{detected()}{detected()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_ad885a1f4885b4e92c0ed16bf3baa61a5} 
bool detected (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Scans I2C for the address -\/ note will give a false-\/positive if there\textquotesingle{}s no pullups on I2C. 

\begin{DoxyReturn}{Returns}
True if I2C initialized and a device with the addr found 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{class_adafruit___i2_c_device_ad885a1f4885b4e92c0ed16bf3baa61a5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{class_adafruit___i2_c_device_ad885a1f4885b4e92c0ed16bf3baa61a5_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!maxBufferSize@{maxBufferSize}}
\index{maxBufferSize@{maxBufferSize}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{maxBufferSize()}{maxBufferSize()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c} 
size\+\_\+t max\+Buffer\+Size (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



How many bytes we can read in a transaction. 

\begin{DoxyReturn}{Returns}
The size of the Wire receive/transmit buffer 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_adafruit___i2_c_device_ae85ca4244fd36c6861ee30f08fb21f39}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!read@{read}}
\index{read@{read}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_ae85ca4244fd36c6861ee30f08fb21f39} 
bool read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{size\+\_\+t}]{len}{, }\item[{bool}]{stop}{ = {\ttfamily true}}\end{DoxyParamCaption})}



Read from I2C into a buffer from the I2C device. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. 


\begin{DoxyParams}{Parameters}
{\em buffer} & Pointer to buffer of data to read into \\
\hline
{\em len} & Number of bytes from buffer to read. \\
\hline
{\em stop} & Whether to send an I2C STOP signal on read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if read was successful, otherwise false. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{class_adafruit___i2_c_device_ae85ca4244fd36c6861ee30f08fb21f39_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{class_adafruit___i2_c_device_ae85ca4244fd36c6861ee30f08fb21f39_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_adafruit___i2_c_device_a837afba2e89c0835741f8bad8ce16f52}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!setSpeed@{setSpeed}}
\index{setSpeed@{setSpeed}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{setSpeed()}{setSpeed()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_a837afba2e89c0835741f8bad8ce16f52} 
bool set\+Speed (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{desiredclk}{}\end{DoxyParamCaption})}



Change the I2C clock speed to desired (relies on underlying Wire support! 


\begin{DoxyParams}{Parameters}
{\em desiredclk} & The desired I2C SCL frequency \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if this platform supports changing I2C speed. Not necessarily that the speed was achieved! 
\end{DoxyReturn}
\Hypertarget{class_adafruit___i2_c_device_a0014ca5ee0ac58df57aafe9fa739571a}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!write@{write}}
\index{write@{write}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_a0014ca5ee0ac58df57aafe9fa739571a} 
bool write (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{size\+\_\+t}]{len}{, }\item[{bool}]{stop}{ = {\ttfamily true}, }\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{prefix\+\_\+buffer}{ = {\ttfamily nullptr}, }\item[{size\+\_\+t}]{prefix\+\_\+len}{ = {\ttfamily 0}}\end{DoxyParamCaption})}



Write a buffer or two to the I2C device. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. 


\begin{DoxyParams}{Parameters}
{\em buffer} & Pointer to buffer of data to write. This is const to ensure the content of this buffer doesn\textquotesingle{}t change. \\
\hline
{\em len} & Number of bytes from buffer to write \\
\hline
{\em prefix\+\_\+buffer} & Pointer to optional array of data to write before buffer. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. This is const to ensure the content of this buffer doesn\textquotesingle{}t change. \\
\hline
{\em prefix\+\_\+len} & Number of bytes from prefix buffer to write \\
\hline
{\em stop} & Whether to send an I2C STOP signal on write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if write was successful, otherwise false. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{class_adafruit___i2_c_device_a0014ca5ee0ac58df57aafe9fa739571a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{class_adafruit___i2_c_device_a0014ca5ee0ac58df57aafe9fa739571a_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_adafruit___i2_c_device_a0d5bd9223ce05f6e090048ace0582cbb}\index{Adafruit\_I2CDevice@{Adafruit\_I2CDevice}!write\_then\_read@{write\_then\_read}}
\index{write\_then\_read@{write\_then\_read}!Adafruit\_I2CDevice@{Adafruit\_I2CDevice}}
\doxysubsubsection{\texorpdfstring{write\_then\_read()}{write\_then\_read()}}
{\footnotesize\ttfamily \label{class_adafruit___i2_c_device_a0d5bd9223ce05f6e090048ace0582cbb} 
bool write\+\_\+then\+\_\+read (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{write\+\_\+buffer}{, }\item[{size\+\_\+t}]{write\+\_\+len}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{read\+\_\+buffer}{, }\item[{size\+\_\+t}]{read\+\_\+len}{, }\item[{bool}]{stop}{ = {\ttfamily false}}\end{DoxyParamCaption})}



Write some data, then read some data from I2C into another buffer. Cannot be more than \doxylink{class_adafruit___i2_c_device_a71cc6d7445c26a5a3215cdc2d3e26a6c}{max\+Buffer\+Size()} bytes. The buffers can point to same/overlapping locations. 


\begin{DoxyParams}{Parameters}
{\em write\+\_\+buffer} & Pointer to buffer of data to write from \\
\hline
{\em write\+\_\+len} & Number of bytes from buffer to write. \\
\hline
{\em read\+\_\+buffer} & Pointer to buffer of data to read into. \\
\hline
{\em read\+\_\+len} & Number of bytes from buffer to read. \\
\hline
{\em stop} & Whether to send an I2C STOP signal between the write and read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if write \& read was successful, otherwise false. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_adafruit___i2_c_device_a0d5bd9223ce05f6e090048ace0582cbb_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Andrei/\+Documents/javelin-\/telemetry-\/system/software/embedded/javelin-\/embedded-\/system/lib/\+Adafruit Bus\+IO/Adafruit\+\_\+\+I2\+CDevice.\+h\item 
C\+:/\+Users/\+Andrei/\+Documents/javelin-\/telemetry-\/system/software/embedded/javelin-\/embedded-\/system/lib/\+Adafruit Bus\+IO/Adafruit\+\_\+\+I2\+CDevice.\+cpp\end{DoxyCompactItemize}
